
功能列表及开发计划：

现有功能：
1.将现有csv文件数据导入到sqlite数据库中
2.对库中的数据读出并进行计算处理，并再次放入库中
3.根据设定条件对计算处理后的数据进行买卖判断，并简单分析每次交易的结果
4.买卖条件的设定，除了策略相关的计算参数，还有止损、止盈点（简单止盈），持仓时间等参数的设定
5.先已有均线计算方法、kdj计算方法、Donchian计算方法、Dual Thrust计算方法


计划后续功能：
1.资金管理的实际操作，将整体资金分为10份，每份选择条件，依次选择每份的股票进行买入
2.股票的选择方法，根据制定好的通用策略，对每支股票进行测试演算并打分，除了买入信号外，股票的分数也为买入的重要依据；后期考虑将仓位与分数联系起来进行仓位判断操作；
3.整体策略的实际效果统计分析
4.实时交易系统的接口连接
5.研究gp组成类型，确定选股策略


功能详细内容：
资金管理的实际操作：
1.将整体资金分为10份，测试阶段按照每份10000圆，共10万圆开始
2.每月调整一次资金额度，根据上一个月的操作收益情况，设置下一个月的每份资金份额


在ana数据库中加入新的字段：
time：操作次数，buy操作中+1，sell中不变
次均收益：在sell操作中，使用price除以基础数值（10000），减1后除以操作次数，以此判断此股票本策略的历史效果

玩家数据初始化

日期遍历
	tbl遍历
		取当前tbl的当前日期操作
		判断操作类型
			sell操作，立即执行，更新玩家状态数据
			buy操作，将操作放入当日buy操作列表
	当日的所有tbl遍历结束

	将当日buy操作列表按照条件进行筛选排序
	根据玩家状态数据，选择执行buy操作
日期遍历结束

玩家状态数据设定
日期
操作编号
总资金
空仓资金
空仓仓数
单仓资金
仓位1 
	代码
	价格（单价）
	数量
	购买日期
仓位2
仓位3
。
。
。
仓位10
操作类型（buy or sell）
操作代码
操作单价
操作数量




新策略思路：
1.过去5天的end均值位于每一天的High-Low之间
2.BP1 = average(ma(5), low(5))
  SP1 = average(ma(5), high(5))
3.up趋势突破BP1且SP1/BP1>105%时，触发buy操作
4.之后每一天根据过去5天数值计算新的SP值
  SP2 = average(ma(5), high(5))
5.下降趋势突破SP2值（均值？）时，触发sell操作
6.止盈：20%；止损：5%

//貌似情况太少，将天数改为2
//test由于数量少，操作也少，而且大盘不符合目标情境，不适于本策略

由于次日交割机制，改变买卖顺序，每日先买后卖，修改代码//已完成并测试


#本文件夹下为获得日线数据功能以及选g功能
DKData.py为获得日线功能，根据提供的gp代码表，请求google财经数据，得到日线数据的csv文件
CAWdata.py与之前相同，简单的读取并存入数据库中
Prodata.py过程中，在dataprocess.py文件处理过程中，最后面的数据加入一条全零数据，仅仅得出buy_Price及sell_Price
新加Choose.py文件，读取pro数据库，判断最近N日的close均值是否满足条件，且此时卖出值与买入值之比大于105%，将所有满足条件的gp代码列入一个新的数据库中：“chooseDatabase.db”，该数据库结构为：code， buy_Price
由于根据历史回测结果，参数状态为：1000_0A00，因此需要判断选中的历史（现在的前半年历史）操作过程中的平均操作涨幅，大于0即可
上面的这个步骤暂时人为进行，加深对gp的认识了解，严格根据规则进行，切记切记不要加入任何人为判断
通过以上条件最终确定待观测gp及买入价格，注意需上升趋势时买入
卖出价格没有什么太大的特殊，2个价格，止损价格及卖出价格，需注意为下降趋势突破时卖出

以后


















































